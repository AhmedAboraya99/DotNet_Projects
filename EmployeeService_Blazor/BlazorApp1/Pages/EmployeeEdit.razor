@page "/editemployee/{EmpId:int}"
@page "/editemployee"


@if (CurrentEmployee != null)
{
<h3>Edit Form for @CurrentEmployee.FirstName  @CurrentEmployee.LastName</h3>
    @if (!Saved)
    {
        <EditForm Model="@CurrentEmployee" OnInvalidSubmit="HandleInvalidSubmit" OnValidSubmit="HandleValidSubmit">
            <DataAnnotationsValidator/>
            <ValidationSummary></ValidationSummary>
            <div class="form-group row">
                <label for="firstname" class="col-form-label"> First Name </label>
                <InputText id="firstname" @bind-Value="@CurrentEmployee.FirstName"></InputText>
            </div>

            <div class="form-group row">
                <label for="lastname" class="col-form-label"> Last Name </label>
                <InputText id="lastname" @bind-Value="@CurrentEmployee.LastName"></InputText>
            </div>

            <div class="form-group row">
                <label for="birthdate" class="col-form-label"> Birth Date </label>
                <InputDate id="birthdate" @bind-Value="@CurrentEmployee.BirthDate"></InputDate>
            </div>

            <div class="form-group row">
                <label for="country" class="col-form-label"> Country </label>
                <InputSelect id="country" class="form-control" @bind-Value="@CurrentEmployee.CountryId">
                    @foreach (var country in Countries)
                    {
                        <option value="@(country.CountryId)">@country.CountryName</option>
                    }
                </InputSelect>
            </div>

            <div class="form-group row">
                <label for="gender" class="col-form-label"> Gender </label>
                <InputSelect id="gender" @bind-Value="@CurrentEmployee.Gender">
                    <option value="@(EmployeeOverview.Gender.Male)">Male</option>
                    <option value="@(EmployeeOverview.Gender.Female)">Female</option>
                </InputSelect>

            </div>
            <button type="submit" class="btn btn-primary">Save Employee</button>
        </EditForm>
    }
    else
    {
        <div class="alert-success"> Employee Saved Successfully</div>
    }
}
else
{
    <div> Wait until loading finished.... </div>
}

@code {
    
}